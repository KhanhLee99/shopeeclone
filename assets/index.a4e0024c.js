import{u as f,c as h,o as g,d as j,B as b,h as v,i as N,j as s,H as y,z as E,e as _}from"./index.cbbc9b65.js";import{B as S}from"./Button.4061c554.js";import{I as d}from"./InputPassword.690ad660.js";import{u as M}from"./user.api.aa9517cc.js";const z=E.pick(["password","new_password","confirm_password"]);function C(){const{t:e}=f(),{register:o,handleSubmit:c,reset:p,setError:x,formState:{errors:u}}=h({defaultValues:{password:"",new_password:"",confirm_password:""},resolver:g(z),shouldFocusError:!1}),a=j({mutationFn:M.updateProfile,onSuccess:r=>{b.success(r.data.message,{position:"top-center",autoClose:1e3}),p()}}),w=c(r=>{a.mutate(v.exports.omit(r,["confirm_password"]),{onError:l=>{var m;if(N(l)){const n=(m=l.response)==null?void 0:m.data.data;n&&Object.keys(n).forEach(i=>{x(i,{message:n[i],type:"Server"})})}}})}),t=r=>_(u,r);return s.exports.jsxs("div",{className:"rounded-sm bg-white px-2 pb-10 shadow md:px-7 md:pb-20",children:[s.exports.jsxs(y,{children:[s.exports.jsxs("title",{children:[e("my profile")," | Shopee Clone"]}),s.exports.jsx("meta",{name:"description",content:"Trang th\xF4ng tin c\xE1 nh\xE2n"})]}),s.exports.jsxs("div",{className:"border-b border-b-gray-200 py-6",children:[s.exports.jsx("h1",{className:"text-lg font-medium capitalize text-gray-900",children:e("change password")}),s.exports.jsx("div",{className:"mt-1 text-sm text-gray-700",children:e("protect account")})]}),s.exports.jsx("form",{className:"mt-8 mr-auto max-w-3xl",onSubmit:w,children:s.exports.jsxs("div",{className:"mt-6 flex-grow md:mt-0 md:pr-12",children:[s.exports.jsxs("div",{className:"relative mt-2 flex flex-col flex-wrap sm:flex-row",children:[s.exports.jsx("div",{className:"truncate pt-3 capitalize sm:w-[30%] sm:text-right",children:e("current password")}),s.exports.jsx("div",{className:"sm:w-[70%] sm:pl-5",children:s.exports.jsx(d,{classNameInput:"w-full rounded-sm border border-gray-300 px-3 py-2 outline-none focus:border-gray-500 focus:shadow-sm",name:"password",placeholder:e("current password"),errorMessage:t("password"),register:o})})]}),s.exports.jsxs("div",{className:"relative mt-2 flex flex-col flex-wrap sm:flex-row",children:[s.exports.jsx("div",{className:"truncate pt-3 capitalize sm:w-[30%] sm:text-right",children:e("new password")}),s.exports.jsx("div",{className:"sm:w-[70%] sm:pl-5",children:s.exports.jsx(d,{classNameInput:"w-full rounded-sm border border-gray-300 px-3 py-2 outline-none focus:border-gray-500 focus:shadow-sm",name:"new_password",placeholder:e("new password"),errorMessage:t("new_password"),register:o})})]}),s.exports.jsxs("div",{className:"relative mt-2 flex flex-col flex-wrap sm:flex-row",children:[s.exports.jsx("div",{className:"truncate pt-3 capitalize sm:w-[30%] sm:text-right",children:e("confirm password")}),s.exports.jsx("div",{className:"sm:w-[70%] sm:pl-5",children:s.exports.jsx(d,{classNameInput:"w-full rounded-sm border border-gray-300 px-3 py-2 outline-none focus:border-gray-500 focus:shadow-sm",name:"confirm_password",placeholder:e("confirm password"),errorMessage:t("confirm_password"),register:o})})]}),s.exports.jsxs("div",{className:"mt-2 flex flex-col flex-wrap sm:flex-row",children:[s.exports.jsx("div",{className:"truncate pt-3 capitalize sm:w-[30%] sm:text-right"}),s.exports.jsx("div",{className:"sm:w-[70%] sm:pl-5",children:s.exports.jsx(S,{className:"flex h-9 items-center rounded-sm bg-orange px-5 text-center text-sm text-white hover:bg-orange/80",type:"submit",isLoading:a.isPending,disabled:a.isPending,children:e("save")})})]})]})})]})}export{C as default};
