import{u as h,b as j,a1 as t,x as y,j as s,L as l,U as g,n as f,t as N,H as v,z as b,D as c,a8 as w,a0 as P}from"./index.ec910cc5.js";import{P as k}from"./PurchaseSkeleton.cfdd859e.js";const K=[{status:t.all,nameKey:"all"},{status:t.waitForConfirmation,nameKey:"to confirm"},{status:t.waitForGetting,nameKey:"to ship"},{status:t.inProgress,nameKey:"to receive"},{status:t.delivered,nameKey:"completed"},{status:t.cancelled,nameKey:"cancelled"}];function A(){const{t:r}=h(),x=j(),o=Number(x.status)||t.all,{data:n,isPending:i}=y({queryKey:["purchases",{status:o}],queryFn:()=>P.getPurchases({status:o})}),a=n==null?void 0:n.data.data,d=K.map(e=>s.exports.jsx(l,{to:{pathname:g.historyPurchase,search:f({status:String(e.status)}).toString()},className:N("flex flex-1 items-center justify-center border-b-2 bg-white py-4 text-center",{"border-b-orange text-orange":o===e.status,"border-b-black/10 text-gray-900":o!==e.status}),children:r(`${e.nameKey}`)},e.status)),m=a&&a.length>0,p=a&&a.length==0&&!i;return s.exports.jsx("div",{children:s.exports.jsxs("div",{className:"overflow-x-auto",children:[s.exports.jsxs(v,{children:[s.exports.jsxs("title",{children:[r("my profile")," | Shopee Clone"]}),s.exports.jsx("meta",{name:"description",content:"Trang th\xF4ng tin c\xE1 nh\xE2n"})]}),s.exports.jsxs("div",{className:"min-w-[700px]",children:[s.exports.jsx("div",{className:"sticky top-0 flex rounded-t-sm shadow-sm",children:d}),s.exports.jsxs("div",{children:[i&&Array(5).fill(0).map((e,u)=>s.exports.jsx(k,{classNameWrap:"mt-4 rounded-sm border-black/10 bg-white p-6 shadow-sm"},u)),m&&a.map(e=>s.exports.jsxs("div",{className:"mt-4 rounded-sm border-black/10 bg-white p-6 text-gray-800 shadow-sm",children:[s.exports.jsxs(l,{to:b({name:e.product.name,id:e.product._id}),className:"flex",children:[s.exports.jsx("div",{className:"flex-shrink-0",children:s.exports.jsx("img",{className:"h-20 w-20 object-cover",src:e.product.image,alt:e.product.name})}),s.exports.jsxs("div",{className:"ml-3 flex-grow overflow-hidden",children:[s.exports.jsx("div",{className:"truncate",children:e.product.name}),s.exports.jsxs("div",{className:"mt-3",children:["x",e.buy_count]})]}),s.exports.jsxs("div",{className:"ml-3 flex-shrink-0",children:[s.exports.jsxs("span",{className:"truncate text-gray-500 line-through",children:["\u20AB",c(e.product.price_before_discount)]}),s.exports.jsxs("span",{className:"ml-2 truncate text-orange",children:["\u20AB",c(e.product.price)]})]})]}),s.exports.jsx("div",{className:"flex justify-end",children:s.exports.jsxs("div",{children:[s.exports.jsx("span",{children:r("total price")}),s.exports.jsxs("span",{className:"ml-4 text-xl text-orange",children:["\u20AB",c(e.product.price*e.buy_count)]})]})})]},e._id)),p&&s.exports.jsxs("div",{className:"mt-[15px] flex h-[300px] flex-col items-center justify-center bg-white p-2",children:[s.exports.jsx("img",{src:w,alt:"no purchase",className:"h-[160px] w-[160px]"}),s.exports.jsx("div",{className:"mt-3 capitalize",children:r("no order")})]})]})]})]})})}export{A as default};
