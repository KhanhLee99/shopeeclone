import{u as i,c as x,o as u,d as w,J as l,j as s,H as f,B as h,O as g,e as j}from"./index.a9df0b2a.js";import{I as t}from"./InputPassword.80324ca0.js";import{u as N}from"./user.api.df0a564b.js";const v=g.pick(["password","new_password","confirm_password"]);function S(){const{t:e}=i(),{register:a,handleSubmit:n,reset:c,setError:b,formState:{errors:p}}=x({defaultValues:{password:"",new_password:"",confirm_password:""},resolver:u(v),shouldFocusError:!1}),d=w({mutationFn:N.updateProfile,onSuccess:r=>{l.success(r.data.message,{position:"top-center",autoClose:1e3}),c()}}),m=n(r=>{l.error(e("cannot_change_password"))}),o=r=>j(p,r);return s.exports.jsxs("div",{className:"rounded-sm bg-white px-2 pb-10 shadow md:px-7 md:pb-20",children:[s.exports.jsxs(f,{children:[s.exports.jsxs("title",{children:[e("my profile")," | Shopee Clone"]}),s.exports.jsx("meta",{name:"description",content:"Trang th\xF4ng tin c\xE1 nh\xE2n"})]}),s.exports.jsxs("div",{className:"border-b border-b-gray-200 py-6",children:[s.exports.jsx("h1",{className:"text-lg font-medium capitalize text-gray-900",children:e("change password")}),s.exports.jsx("div",{className:"mt-1 text-sm text-gray-700",children:e("protect account")})]}),s.exports.jsx("form",{className:"mr-auto mt-8 max-w-3xl",onSubmit:m,children:s.exports.jsxs("div",{className:"mt-6 flex-grow md:mt-0 md:pr-12",children:[s.exports.jsxs("div",{className:"relative mt-2 flex flex-col flex-wrap sm:flex-row",children:[s.exports.jsx("div",{className:"truncate pt-3 capitalize sm:w-[30%] sm:text-right",children:e("current password")}),s.exports.jsx("div",{className:"sm:w-[70%] sm:pl-5",children:s.exports.jsx(t,{classNameInput:"w-full rounded-sm border border-gray-300 px-3 py-2 outline-none focus:border-gray-500 focus:shadow-sm",name:"password",placeholder:e("current password"),errorMessage:o("password"),register:a})})]}),s.exports.jsxs("div",{className:"relative mt-2 flex flex-col flex-wrap sm:flex-row",children:[s.exports.jsx("div",{className:"truncate pt-3 capitalize sm:w-[30%] sm:text-right",children:e("new password")}),s.exports.jsx("div",{className:"sm:w-[70%] sm:pl-5",children:s.exports.jsx(t,{classNameInput:"w-full rounded-sm border border-gray-300 px-3 py-2 outline-none focus:border-gray-500 focus:shadow-sm",name:"new_password",placeholder:e("new password"),errorMessage:o("new_password"),register:a})})]}),s.exports.jsxs("div",{className:"relative mt-2 flex flex-col flex-wrap sm:flex-row",children:[s.exports.jsx("div",{className:"truncate pt-3 capitalize sm:w-[30%] sm:text-right",children:e("confirm password")}),s.exports.jsx("div",{className:"sm:w-[70%] sm:pl-5",children:s.exports.jsx(t,{classNameInput:"w-full rounded-sm border border-gray-300 px-3 py-2 outline-none focus:border-gray-500 focus:shadow-sm",name:"confirm_password",placeholder:e("confirm password"),errorMessage:o("confirm_password"),register:a})})]}),s.exports.jsxs("div",{className:"mt-2 flex flex-col flex-wrap sm:flex-row",children:[s.exports.jsx("div",{className:"truncate pt-3 capitalize sm:w-[30%] sm:text-right"}),s.exports.jsx("div",{className:"sm:w-[70%] sm:pl-5",children:s.exports.jsx(h,{className:"h-9 rounded-sm px-5",type:"submit",loading:d.isPending,disabled:d.isPending,children:e("save")})})]})]})})]})}export{S as default};
